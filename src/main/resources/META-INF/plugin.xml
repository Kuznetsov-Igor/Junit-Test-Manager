<idea-plugin>
    <id>com.my.junit.testmanager</id>
    <name>JUnit Test Manager</name>
    <version>1.0.4</version>
    <vendor email="ikjapan1@gmail.com">Kuznetsov Igor</vendor>

    <description> <![CDATA[
        JUnit Test Manager simplifies working with JUnit tests in Java projects: generate run configurations with custom VM options, group tests by regex-based paths, automatically relocate misplaced tests after refactoring, and create test data generator classes for fast instantiation of model objects. The plugin provides a full toolset for test discovery, grouping, relocation, and automated test data generation with support for modern Java features like records.

        JUnit Test Manager упрощает работу с JUnit-тестами в Java-проектах: генерирует конфигурации запуска с кастомными VM-аргументами, группирует тесты по путям на основе регулярных выражений, автоматически перемещает тесты в нужные пакеты после рефакторинга и создаёт классы-генераторы тестовых данных для быстрого создания экземпляров моделей. Плагин предоставляет полный набор инструментов для поиска тестов, группировки, релокации и автоматической генерации тестовых данных с поддержкой современных возможностей Java, таких как records.
    ]]> </description>

    <change-notes> <![CDATA[
        Version 1.0.4:
        - Added flexible filtering in the test results tool window, including an option to show/hide per-class summary rows.
        - Improved localization usage and minor UI tweaks for test results.
        - Internal refactoring and small documentation updates.
    ]]>
    </change-notes>


    <idea-version since-build="241" until-build="999.*"/>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.java</depends>

    <resource-bundle>message</resource-bundle>

    <extensions defaultExtensionNs="com.intellij">
        <applicationService serviceImplementation="com.my.junit.testmanager.config.TestManagerConfig"/>
        <projectService serviceImplementation="com.my.junit.testmanager.config.TestGeneratorConfig"/>
        <projectService serviceImplementation="com.my.junit.testmanager.toolwindow.TestResultsToolWindowManager"/>
        <projectService serviceImplementation="com.my.junit.testmanager.services.TestResultsAggregatorService"/>
        <projectService serviceImplementation="com.my.junit.testmanager.services.TestRunEventsListenerService"/>
        <postStartupActivity implementation="com.my.junit.testmanager.services.TestResultsStartupActivity"/>

        <applicationConfigurable
                parentId="tools"
                instance="com.my.junit.testmanager.ui.SettingsConfigurationForm"
                id="JunitTestManager.settings"
                displayName="Test Manager Settings"
                nonDefaultProject="false"/>

        <projectConfigurable
                parentId="JunitTestManager.settings"
                instance="com.my.junit.testmanager.ui.SettingsTestGeneratorForm"
                id="JunitTestManager.testGenerator.settings"
                displayName="Test Data Generators"/>

        <notificationGroup id="JUnitTestManagerNotifications" displayType="BALLOON" isLogByDefault="true"/>
        <toolWindow id="JUnit Test Manager Results"
                    anchor="bottom"
                    factoryClass="com.my.junit.testmanager.toolwindow.TestResultsToolWindowFactory"
                    icon="/META-INF/pluginIcon.svg"/>
    </extensions>

    <actions>
        <group id="JUnit Test Manager"
               text="JUnit Test Manager"
               description="JUnit Test Manager Actions"
               popup="true">

            <action id="FindTestsInDirectoryAction"
                    class="com.my.junit.testmanager.actions.FindTestsInDirectoryAction"
                    text="Find Tests in Directory">
            </action>
            <action id="FindTestsInChangesAction"
                    class="com.my.junit.testmanager.actions.FindTestsInChangesAction"
                    text="Find Tests in Changes">
            </action>
            <action id="FindAllTestsAction"
                    class="com.my.junit.testmanager.actions.FindAllTestsAction"
                    text="Find All Tests in Project">
            </action>
            <action id="RelocateTestsAction"
                    class="com.my.junit.testmanager.actions.RelocateTestsAction"
                    text="Relocate Tests">
            </action>
            <action id="RelocateChangesTestsAction"
                    class="com.my.junit.testmanager.actions.RelocateChangesTestsAction"
                    text="Relocate Changes Tests">
            </action>

            <add-to-group group-id="RunContextGroup" anchor="last"/>
        </group>

        <action id="GenerateTestDataGeneratorsAction"
                class="com.my.junit.testmanager.actions.GenerateTestDataGeneratorsAction"
                text="Generate Test Data Generators">
            <add-to-group group-id="GenerateGroup" anchor="last"/>
        </action>

    </actions>
</idea-plugin>